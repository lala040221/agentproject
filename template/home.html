<!DOCTYPE html>
<html lang="en">
<!-- doccure/index.html  30 Nov 2019 04:12:03 GMT -->

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0" />
  <title>HealthStack</title>

  <!-- Favicons -->
  <link type="image/x-icon" href="/static/HealthStack-System/images/Normal/favicon.png" rel="icon" />

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/static/HealthStack-System/css/Normal/bootstrap.min.css" />

  <!-- Fontawesome CSS -->
  <link rel="stylesheet" href="/static/HealthStack-System/plugins/Normal/fontawesome/css/fontawesome.min.css" />
  <link rel="stylesheet" href="/static/HealthStack-System/plugins/Normal/fontawesome/css/all.min.css" />

  <!-- Main CSS -->
  <link rel="stylesheet" href="/static/HealthStack-System/css/Normal/style.css" />

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="assets/js/html5shiv.min.js"></script>
      <script src="assets/js/respond.min.js"></script>
    <![endif]-->
</head>

<body>
  <!-- Main Wrapper -->
  <div class="main-wrapper">
    <!-- Header -->
    <header class="header">

      <nav class="navbar navbar-expand-lg header-nav">
        <div class="navbar-header">
          <a id="mobile_btn" href="javascript:void(0);">
            <span class="bar-icon">
              <span></span>
              <span></span>
              <span></span>
            </span>
          </a>
          <a href="/" class="navbar-brand logo">
            <img src="/static/images/logo.jpg" class="img-fluid" alt="Logo" />
          </a>
        </div>
        <div class="main-menu-wrapper">
          <div class="menu-header">
            <a href="#" class="menu-logo">
              <img src="/static/HealthStack-System/images/Normal/logo.jpg" class="img-fluid" alt="Logo" />
            </a>
            <a id="menu_close" class="menu-close" href="javascript:void(0);">
              <i class="fas fa-times"></i>
            </a>
          </div>
          <ul class="main-nav">
            <li>
              <a href="/home/" style="text-decoration: none;">Home</a>
            </li>









            <li>
              <a href="/about-us/" style="text-decoration: none;">About Us</a>
            </li>









            <li class="login-link">
              <a href="/login/">Login / Signup</a>
            </li>
          </ul>
        </div>

        <ul class="nav header-navbar-rht">
          <li class="nav-item contact-item">
            <div class="header-contact-img">
              <a href="/" class="navbar-brand logo">
                <img src="/static/images/iir.png" class="img-fluid" alt="Logo" />
              </a>
            </div>
            <!-- <div class="header-contact-detail">
              <p class="contact-header">Contact</p>
              <p class="contact-info-header">+880 1234 567890</p>
            </div> -->
          </li>


          <li class="nav-item">
            <a class="nav-link header-login" href="/login/">Login / Signup
            </a>
          </li>

        </ul>
      </nav>
    </header>
    <!-- header -->
    <!-- 攝像頭視窗 -->
    <div id="camera-window">
      <div id="camera-header">
        <span>📷 即時攝像頭</span>
        <button id="close-camera">✖</button>
      </div>
      <img src="{% url 'camera_feed' %}" alt="攝像頭畫面">
    </div>

    
     

    <!-- <script>
  // document.getElementById("close-camera").addEventListener("click", function() {
  //     document.getElementById("camera-window").style.display = "none";
  // });
  
</script> -->
    <!-- 攝像頭視窗 -->
    <div id="camera-window">
      <div id="camera-header">
        <span id="camera-status">📷 即時攝像頭 (人臉偵測已啟用)</span>
        <!-- <button id="minimize-camera">_</button>
        <button id="close-camera">✖</button> -->
      </div>
      <div id="camera-content">
        <img src="{% url 'camera_feed' %}" alt="攝像頭畫面">
        <div id="camera-controls">
          <!-- <button id="toggle-detection" class="camera-btn">停用人臉偵測</button>
          <button id="toggle-camera" class="camera-btn">隱藏攝像頭</button> -->
        </div>
      </div>
    </div>

    <style>
      /* 攝像頭視窗樣式 */
      #camera-window {
        position: fixed;
        top: 60px;
        /* 避免被導航欄遮住 */
        left: 10px;
        width: 280px;
        background: rgba(0, 0, 0, 0.8);
        border-radius: 8px;
        padding: 5px;
        display: flex;
        flex-direction: column;
        align-items: center;
        box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);
        z-index: 1000;
        transition: all 0.3s ease;
      }

      #camera-window.minimized {
        height: 30px;
        overflow: hidden;
      }

      #camera-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        background: rgba(255, 255, 255, 0.2);
        padding: 5px;
        border-radius: 5px;
        cursor: pointer;
      }

      #camera-header span {
        color: white;
        font-size: 14px;
        font-weight: bold;
      }

      #camera-content {
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      #close-camera,
      #minimize-camera {
        background: #ff5757;
        color: white;
        border: none;
        cursor: pointer;
        padding: 2px 5px;
        border-radius: 4px;
        margin-left: 3px;
      }

      #minimize-camera {
        background: #ffc107;
      }

      #camera-window img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 5px;
        margin-top: 5px;
      }

      #camera-controls {
        display: flex;
        justify-content: space-between;
        width: 100%;
        margin-top: 5px;
      }

      .camera-btn {
        background: #007bff;
        color: white;
        border: none;
        padding: 5px 10px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 12px;
        flex: 1;
        margin: 0 2px;
      }

      .camera-btn:hover {
        background: #0069d9;
      }
    </style>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const cameraWindow = document.getElementById("camera-window");
        const cameraHeader = document.getElementById("camera-header");
        const cameraStatus = document.getElementById("camera-status");
        const closeCamera = document.getElementById("close-camera");
        const minimizeCamera = document.getElementById("minimize-camera");
        const toggleDetection = document.getElementById("toggle-detection");
        const toggleCamera = document.getElementById("toggle-camera");

        let detectionEnabled = true;

        // 最小化攝像頭視窗
        minimizeCamera.addEventListener("click", function (e) {
          e.stopPropagation();
          cameraWindow.classList.toggle("minimized");
          minimizeCamera.textContent = cameraWindow.classList.contains("minimized") ? "□" : "_";
        });

        // 點擊標題欄也可以最小化/最大化
        cameraHeader.addEventListener("click", function () {
          cameraWindow.classList.toggle("minimized");
          minimizeCamera.textContent = cameraWindow.classList.contains("minimized") ? "□" : "_";
        });

        // 關閉攝像頭視窗
        closeCamera.addEventListener("click", function (e) {
          e.stopPropagation();
          cameraWindow.style.display = "none";
          // 釋放攝像頭資源
          fetch('/release_camera/')
            .then(response => response.json())
            .then(data => console.log("攝像頭釋放狀態:", data.status));
        });

        // 切換人臉偵測
        toggleDetection.addEventListener("click", function () {
          if (detectionEnabled) {
            fetch('/stop_face_detection/')
              .then(response => response.json())
              .then(data => {
                console.log("停止人臉偵測:", data.status);
                if (data.status === 'success') {
                  detectionEnabled = false;
                  toggleDetection.textContent = "啟用人臉偵測";
                  cameraStatus.textContent = "📷 即時攝像頭 (人臉偵測已停用)";
                }
              });
          } else {
            // 重新啟用人臉偵測
            fetch('/home/', { headers: { 'X-Requested-With': 'XMLHttpRequest' } })
              .then(() => {
                detectionEnabled = true;
                toggleDetection.textContent = "停用人臉偵測";
                cameraStatus.textContent = "📷 即時攝像頭 (人臉偵測已啟用)";
              });
          }
        });

        // 切換攝像頭顯示/隱藏
        toggleCamera.addEventListener("click", function () {
          const img = cameraWindow.querySelector("img");
          if (img.style.display !== "none") {
            img.style.display = "none";
            toggleCamera.textContent = "顯示攝像頭";
          } else {
            img.style.display = "block";
            toggleCamera.textContent = "隱藏攝像頭";
          }
        });

        // 頁面離開前釋放攝像頭資源
        window.addEventListener("beforeunload", function () {
          fetch('/release_camera/');
        });
      });
    </script>
    <!-- Home Banner -->
    <section class="section section-search"
      style="background-color:rgb(172, 209, 242); padding-bottom: 0px;min-height: 0px;padding-left: 0px;padding-right: 0px;">
      <div style="background-color:rgb(172, 209, 242)">
        <div class="banner-wrapper" style="background-color:rgb(172, 209, 242);padding-bottom: 20px;padding-top: 12px;">
          <div class="banner-header text-center">
            <h1>Welcome To HealthStack</h1>
            <p>
              Choose well by choosing us.
            </p>
          </div>


          <!-- /Search -->
        </div>
        <div class="home-image">
          <img src="/static/HealthStack-System/images/Normal/p2.png" class="img-fluid" style="width: 100%;" />
        </div>
      </div>
    </section>
    <!-- /Home Banner -->



    <!-- Availabe Features -->
    <section class="section section-features">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-5 features-img">
            <img src="/static/HealthStack-System/images/Normal/pppp.jpg" class="img-fluid" alt="Feature" />
          </div>
          <div class="section-header mt-5">
            <h2 class="mt-2">What Service We Can Offer</h2>
            <p>詢問任何關於血液透析報告的資訊</p>
          </div>

          <!-- /Slider Item -->


        </div>
      </div>
  </div>
  </div>
  </section>
  <!-- Availabe Features -->

  <!-- Footer -->


  <footer class="footer">
    <!-- Footer Top -->
    <div class="footer-top">
      <div class="container-fluid">
        <div class="row">

          <div class="col-lg-6 col-md-6">
            <!-- Footer Widget -->
            <div class="footer-widget footer-about">
              <div class="footer-logo">
                <img src="/static/HealthStack-System/images/Normal/footer_logo.png" alt="logo" />
              </div>
              <div class="footer-about-content">
                <p>
                  Healthstack is an online based platform for multiple hospitals. It Provides immediate medical
                  assistance to patients who require emergency treatment. Its Ability to track, monitor, and share a
                  patient's health records between all hospitals. Patients can also see information regarding multiple
                  hospitals and doctors and make appointments online.
                </p>
                <br>
                <div class="social-icon">
                  <ul>
                    <li>
                      <a href="#" target="_blank"><i class="fab fa-facebook-f"></i>
                      </a>
                    </li>
                    <li>
                      <a href="#" target="_blank"><i class="fab fa-twitter"></i>
                      </a>
                    </li>
                    <li>
                      <a href="#" target="_blank"><i class="fab fa-linkedin-in"></i></a>
                    </li>
                    <li>
                      <a href="#" target="_blank"><i class="fab fa-instagram"></i></a>
                    </li>
                    <li>
                      <a href="#" target="_blank"><i class="fab fa-dribbble"></i>
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <!-- /Footer Widget -->
          </div>


          <div class="col-lg-3 col-md-6">
            <!-- Footer Widget -->

            <!-- /Footer Widget -->
          </div>

          <div class="col-lg-3 col-md-6">
            <!-- Footer Widget -->
            <div class="footer-widget footer-contact">
              <h2 class="footer-title">Contact Us</h2>
              <div class="footer-contact-info">
                <div class="footer-address">
                  <span><i class="fas fa-map-marker-alt"></i></span>
                  <p>
                    Dhanmondi,<br />
                    Dhaka, Bangladesh
                  </p>
                </div>
                <p>
                  <i class="fas fa-phone-alt"></i>
                  +880 1234 567890
                </p>
                <p class="mb-0">
                  <i class="fas fa-envelope"></i>
                  HealthStack@gmail.com
                </p>
              </div>
            </div>
            <!-- /Footer Widget -->
          </div>
        </div>
      </div>
    </div>
    <!-- /Footer Top -->

    <!-- Footer Bottom -->

    <!-- /Footer Bottom -->
  </footer>
  <!-- /Footer -->
  </div>
  <!-- /Main Wrapper -->

  <!-- jQuery -->
  <script src="/static/HealthStack-System/js/Normal/jquery.min.js"></script>

  <!-- Bootstrap Core JS -->
  <script src="/static/HealthStack-System/js/Normal/popper.min.js"></script>
  <script src="/static/HealthStack-System/js/Normal/bootstrap.min.js"></script>

  <link rel="stylesheet" href="/static/HealthStack-System/plugins/Normal/fontawesome/css/fontawesome.min.css" />
  <link rel="stylesheet" href="/static/HealthStack-System/plugins/Normal/fontawesome/css/all.min.css" />

  <!-- Slick JS -->
  <script src="/static/HealthStack-System/Outside_assets/js/slick.js"></script>

  <!-- Custom JS -->
  <script src="/static/HealthStack-System/Outside_assets/js/script.js"></script>
</body>

<!-- doccure/index.html  30 Nov 2019 04:12:03 GMT -->

</html>